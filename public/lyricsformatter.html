<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google" value="notranslate">
    <link rel="stylesheet" href="lyricsformatter.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lyrics Formatter | Songstats</title>
</head>

    <body>
        <div class="top">
            <div class="return">
                <img class="return_arrow" id="return_arrow" src="images\arrow.svg" alt="Return Arrow" title="Return to Home" draggable="false">
            </div>
            <div class="page_title">Lyrics Formatter</div>
            <div class="settings">
                <img class="options_dots" id="settings_dots" src="images\options.svg" alt="Options" title="Options" draggable="false">
            </div>
        </div>
    
        <div class="main">
            <div class="main_content">
                <div class="main_left">
                    <div class="lyrics_box" id="lyrics_box">
                        <div class="editor-container">
                            <div class="line_numbers"></div>
                            <textarea class="editor" id="editor" placeholder="Paste the lyrics here..." oninput="updateLineNumbers();"></textarea>
                        </div>
                    </div>
                </div>
                <div class="main_right">
                    <div class="language_selector">
                        <div class="lang_selector_div" title="Tap to see list of supported languages">
                            <div class="selected_language">Select Language</div>
                            <div class="mobile_footer_arrow">
                                <img class="lang_expand_arrow" id="lang_expand_arrow" src="images/expand_arrow.svg" alt="Expand Arrow" draggable="false">
                            </div>
                        </div>
                        <ul class="language_list">
                            <li data-lang="en">English</li>
                            <li data-lang="br">Portuguese (BR)</li>
                            <li data-lang="pt">Portuguese (PT)</li>
                            <p>More languages soon...</p>
                        </ul>
                    </div>
                    <div class="improvements_box">
                        <div class="improvements_box_top"></div>
                        <div class="improvements_box_content"></div>
                    </div>
                    <div class="random_tips"></div>
                </div>
            </div>
            <div class="mobile_expanded_content" id="mobile_expanded_content">
                <div class="main_right">
                    <div class="language_selector"></div>
                    <div class="improvements_box"></div>
                    <div class="random_tips"></div>
                </div>
            </div>
        </div>
        <div class="footer">
            <div class="footer_message">Please note that this tool only provides suggestions based on your current transcription. It is still essential to thoroughly review all the content before sending.</div>
            <div class="mobile_footer_div">
                <div class="status_light_div">
                    <div class="status_light status-yellow"></div>
                </div>
                <div class="mobile_footer_text">Page under development</div>
                <div class="mobile_footer_arrow">
                    <img class="expand_arrow" id="expand_arrow" src="images/expand_arrow.svg" alt="Expand Arrow" title="Tap to check suggestions" draggable="false">
                </div>
            </div>
        </div>       
    </body>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            var returnArrow = document.querySelector('#return_arrow');

            returnArrow.addEventListener('click', function() {
                window.location.href = 'index.html';
            });
        });


        document.addEventListener('DOMContentLoaded', function () {
            var lyricsBox = document.getElementById('lyrics_box');
            var textArea = document.getElementById('editor');

            lyricsBox.addEventListener('click', function() {
                textArea.focus();
            });
        });

        document.addEventListener('DOMContentLoaded', function () {
            var textarea = document.querySelector('.editor');
            var lineNumbers = document.querySelector('.line_numbers');

            textarea.addEventListener('input', updateLineNumbers);
            textarea.addEventListener('scroll', syncScroll);

            function updateLineNumbers() {
                var lines = textarea.value.split('\n');
                lineNumbers.innerHTML = '';

                for (var i = 0; i < lines.length; i++) {
                    var line = document.createElement('div');

                    // Verifica se a linha está vazia ou contém os termos específicos (insensível a capitalização)
                    var lowercaseLine = lines[i].trim().toLowerCase(); // Utiliza o trim para remover espaços no início e no final

                    if (lowercaseLine === '' || lowercaseLine.includes("#instrumental") || lowercaseLine.includes("#intro") || lowercaseLine.includes("#verse") || lowercaseLine.includes("#pre-chorus") || lowercaseLine.includes("#chorus") || lowercaseLine.includes("#hook") || lowercaseLine.includes("#bridge") || lowercaseLine.includes("#outro")) {
                        line.textContent = " ";
                    } else {
                        line.textContent = lines[i].trim().length; // Utiliza trim para calcular o comprimento desconsiderando espaços no início e final
                    }

                    lineNumbers.appendChild(line);
                }
            }

            function syncScroll() {
                lineNumbers.scrollTop = textarea.scrollTop;
            }

            // Inicializa os números de linha
            updateLineNumbers();
        });

        document.addEventListener('DOMContentLoaded', function() {
            const selector = document.querySelector('.language_selector');
            const selectedLanguage = document.querySelector('.selected_language');
            const languageList = document.querySelector('.language_list');
            const languageArrow = document.querySelector('.lang_expand_arrow');
            const langButtonContent = document.querySelector('.lang_selector_div');

            selector.addEventListener('click', function(event) {
                event.stopPropagation(); 
                
                if (languageList.style.display === 'block') {
                    languageList.style.display = 'none';
                    languageArrow.style.transform = "rotate(180deg)";
                    langButtonContent.title = "Tap to edit the language";
                } else {
                    languageList.style.display = 'block';
                    languageArrow.style.transform = "rotate(0)";
                    langButtonContent.title = "Tap to hide the list of supported languages";
                }
            });

            languageList.addEventListener('click', function(e) {
                if (e.target.tagName === 'LI') {
                    const selected = e.target.dataset.lang;
                    selectedLanguage.textContent = e.target.textContent;
                    languageList.style.display = 'none';
                    // Aqui você pode adicionar o código para alterar o idioma na sua aplicação
                    // Por exemplo, um switch case para selecionar o idioma no seu aplicativo
                    // de acordo com o valor de "selected"
                }
            });

            document.addEventListener('click', function(event) {
                if (!selector.contains(event.target)) {
                    languageList.style.display = 'none';
                    languageArrow.style.transform = "rotate(180deg)";
                    langButtonContent.title = "Tap to edit the language";
                }
            });
        });


    </script>

</html>